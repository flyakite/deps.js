var deps=function(){var n,e,t,o,r={},i={},c={},f=[],a=[],u=[],s={},d={},h={hold:function(n,e,t){var e=1e3*e,o=setTimeout(function(){d[n]={},t()},e);d[n]={timeout:e,control:o}},release:function(n){d[n]&&clearTimeout(d[n].control),d[n]={}}},l=function(){var n=document.createElement("style");for(var e in c)n.innerHTML+="@import url('"+c[e]+"');";document.head.appendChild(n)},p=function(n,e){var t=document.createElement("script");t.src=n,(document.head||document.documentElement).appendChild(t),t.onload=e},m=function(r){if(!e.hasOwnProperty(r))throw r+" not in config paths.";if(-1==u.indexOf(r)&&(u.push(r),-1==a.indexOf(r))){var i=function(){p(e[r],function(){a.push(r),h.release(r)})},c=n[r]&&n[r].waitSeconds||t;s[r]=n[r]&&n[r].retry||o,s[r]=parseInt(s[r],10),h.hold(r,c,function(){s[r]>0&&(i(),s[r]--)}),i()}},g=function(e){var t=n[e]&&n[e].deps;setTimeout(function(){for(var n=!0,o=t.length;o--;)if(-1==a.indexOf(t[o])){n=!1;break}n?m(e):g(e)},50)},v=function(n){for(var e=n.length;e--;)a.hasOwnProperty(n[e])||u.hasOwnProperty(n[e])||y(n[e],null)},y=function(e){var t;n.hasOwnProperty(e)&&n[e].deps?(t=n[e].deps,v(t),g(e)):m(e)};return r.config=function(n){r._config=n},r.load=function(a){if(i=r._config,e=i.paths,n=i.shim,c=i.css,t=i.waitSeconds||7,o=i.retry||0,l(),f="string"==typeof a?[a]:a,i&&0==Object.keys(i).length||e&&0==Object.keys(e).length)throw"No config.";for(var u=f.length;u--;){if(!e.hasOwnProperty(f[u]))throw key+" no in config.";y(f[u])}},r}();