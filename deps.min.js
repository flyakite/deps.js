var deps=function(){var n,t,e,o,r={},i={},c=[],f=[],a=[],u={},s={},h={hold:function(n,t,e){var t=1e3*t,o=setTimeout(function(){s[n]={},e()},t);s[n]={timeout:t,control:o}},release:function(n){s[n]&&clearTimeout(s[n].control),s[n]={}}},d=function(n,t){var e=document.createElement("script");e.src=n,(document.head||document.documentElement).appendChild(e),e.onload=t},l=function(r){if(!t.hasOwnProperty(r))throw r+" not in config paths.";if(-1==a.indexOf(r)&&(a.push(r),-1==f.indexOf(r))){var i=function(){d(t[r],function(){f.push(r),h.release(r)})},c=n[r]&&n[r].waitSeconds||e;u[r]=n[r]&&n[r].retry||o,u[r]=parseInt(u[r],10),h.hold(r,c,function(){u[r]>0&&(i(),u[r]--)}),i()}},p=function(t){var e=n[t]&&n[t].deps;setTimeout(function(){for(var n=!0,o=e.length;o--;)if(-1==f.indexOf(e[o])){n=!1;break}n?l(t):p(t)},50)},g=function(n){for(var t=n.length;t--;)f.hasOwnProperty(n[t])||a.hasOwnProperty(n[t])||m(n[t],null)},m=function(t){var e;n.hasOwnProperty(t)&&n[t].deps?(e=n[t].deps,g(e),p(t)):l(t)};return r.config=function(n){r._config=n},r.load=function(f){if(i=r._config,t=i.paths,n=i.shim,e=i.waitSeconds||7,o=i.retry||0,c="string"==typeof f?[f]:f,i&&0==Object.keys(i).length||t&&0==Object.keys(t).length)throw"No config.";for(var a=c.length;a--;){if(!t.hasOwnProperty(c[a]))throw key+" no in config.";m(c[a])}},r}();